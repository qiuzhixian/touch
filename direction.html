<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8" />
	<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />
	<title>计算距离判断滑动方向</title>
</head>

<body>
	<script>
		let startX = '';
		let startY = '';
		let endX = '';
		let endY = '';

		// 判断方向，Math.abs取绝对值比较，判断以哪个滑动方向为主
		function direction(startX, endX, startY, endY) {
			return Math.abs(endX - startX) >= Math.abs(endY - startY) ? (endX - startX > 0 ? '右' : '左') : (endY - startY > 0 ?
				'下' : '上');
		}

		// 监听touch触发事件计算距离
		function touchHandle(event) {
			let ev = event || window.event;
			switch (ev.type) {
				case 'touchstart':
					// 触摸开始的时候触发
					startX = ev.changedTouches[0].pageX; // 开始位置的X坐标触点
					startY = ev.changedTouches[0].pageY; // 开始位置Y坐标触点
					break;
				case 'touchend':
					// 触摸结束的时候触发
					endX = ev.changedTouches[0].pageX; // 结束位置的X坐标触点
					endY = ev.changedTouches[0].pageY; // 结束位置的Y坐标触点
					console.log(direction(startX, endX, startX, endY));
					break;
			}
		}

		document.addEventListener('touchstart', touchHandle, false);
		document.addEventListener('touchend', touchHandle, false);
	</script>
</body>

</html>